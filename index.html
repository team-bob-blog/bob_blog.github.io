---
layout: page
title: 모든 게시물 보기
description: 최신 기술 블로그 포스트
hide_description: true
---

<!-- 필터 섹션 -->
<div class="filter-section">
  <div class="filter-group">
    <label>정렬:</label>
    <button class="filter-btn active" data-sort="newest">최신순</button>
    <button class="filter-btn" data-sort="oldest">오래된순</button>
  </div>
  <div class="filter-group">
    <label>작성자:</label>
    <button class="filter-btn author-btn active" data-author="all">전체</button>
    {% for author in site.data.authors %}
      {% assign author_color = site.data.author_colors[author[1].name] | default: '#4a90e2' %}
      <button class="filter-btn author-btn" data-author="{{ author[0] }}" style="--author-color: {{ author_color }};">{{ author[1].name }}</button>
    {% endfor %}
  </div>
</div>

<div class="home-posts-container">
  <div class="post-card-grid" id="post-grid">
    {% assign posts = site.posts %}
    {% for post in posts %}
      {% assign author_data = site.data.authors[post.author] %}
      {% assign author_color = site.data.author_colors[author_data.name] | default: '#4a90e2' %}
      <a href="{{ post.url | relative_url }}" class="modern-post-card" data-author="{{ post.author }}" data-date="{{ post.date | date: '%Y%m%d' }}">
        {% if post.author %}
          <span class="modern-post-author" style="background-color: {{ author_color }};">{{ author_data.name }}</span>
        {% endif %}
        <h3 class="modern-post-card-title">{{ post.title }}</h3>
        <div class="modern-post-card-meta">
          <span class="modern-post-date">{{ post.date | date: "%Y.%m.%d" }}</span>
          {% if post.categories.size > 0 %}
            {% assign first_category = post.categories | first %}
            <span class="modern-post-category">{{ first_category }}</span>
          {% endif %}
        </div>
      </a>
    {% endfor %}
  </div>
</div>

<style>
.filter-section {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 25px;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.filter-group {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.filter-group label {
  font-weight: 600;
  color: #495057;
  font-size: 0.9rem;
}

.filter-btn {
  padding: 8px 16px;
  border: 1px solid #dee2e6;
  border-radius: 20px;
  background: white;
  cursor: pointer;
  font-size: 0.85rem;
  transition: all 0.2s;
  color: #495057;
}

.filter-btn:hover {
  border-color: #4a90e2;
  color: #4a90e2;
}

.filter-btn.active {
  background: #4a90e2;
  color: white;
  border-color: #4a90e2;
}

.author-btn.active {
  background: var(--author-color, #4a90e2);
  border-color: var(--author-color, #4a90e2);
}

.modern-post-card.hidden {
  display: none !important;
}

@media (max-width: 768px) {
  .filter-section {
    flex-direction: column;
    gap: 15px;
  }
  .filter-group {
    width: 100%;
  }
}
</style>

<script>
(function() {
  function initFilters() {
    const grid = document.getElementById('post-grid');
    if (!grid) return;
    
    const cards = Array.from(grid.querySelectorAll('.modern-post-card'));
    const sortBtns = document.querySelectorAll('[data-sort]');
    const authorBtns = document.querySelectorAll('[data-author]');
    
    let currentSort = 'newest';
    let currentAuthor = 'all';

    function filterAndSort() {
      cards.forEach(card => {
        const author = card.dataset.author;
        if (currentAuthor === 'all' || author === currentAuthor) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });

      const visibleCards = cards.filter(c => !c.classList.contains('hidden'));
      visibleCards.sort((a, b) => {
        const dateA = parseInt(a.dataset.date);
        const dateB = parseInt(b.dataset.date);
        return currentSort === 'newest' ? dateB - dateA : dateA - dateB;
      });

      visibleCards.forEach(card => grid.appendChild(card));
      cards.filter(c => c.classList.contains('hidden')).forEach(card => grid.appendChild(card));
    }

    sortBtns.forEach(btn => {
      btn.onclick = function() {
        sortBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentSort = this.dataset.sort;
        filterAndSort();
      };
    });

    authorBtns.forEach(btn => {
      btn.onclick = function() {
        authorBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentAuthor = this.dataset.author;
        filterAndSort();
      };
    });
  }

  // 즉시 실행
  initFilters();
  
  // DOMContentLoaded
  document.addEventListener('DOMContentLoaded', initFilters);
  
  // Hydejack push-state 지원
  if (window._pushState) {
    document.addEventListener('hy-push-state-load', initFilters);
  }
  
  // 추가 안전장치
  setTimeout(initFilters, 500);
})();
</script>