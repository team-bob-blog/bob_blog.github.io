---
layout: page
title: íŒ€ í¬ìŠ¤íŒ… ì¼ì •
description: >
  ëª¨ë“  í¬ìŠ¤íŠ¸ë¥¼ ë‚ ì§œë³„ë¡œ ë¬¶ì–´ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‹¬ë ¥ì…ë‹ˆë‹¤.
hide_description: true
sitemap: false
permalink: /calendar/
---

{% assign all_posts = site.posts | sort: 'date' %}

<style>
/* ìº˜ë¦°ë” ì»¨í…Œì´ë„ˆ */
.calendar-wrapper {
  max-width: 1000px;
  margin: 0 auto;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  color: #333 !important;
  background-color: #fff !important;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  border: 1px solid #f0f0f0;
}

/* í—¤ë” */
.calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #f1f3f5;
}

.month-info h2 {
  font-size: 1.8rem !important;
  font-weight: 800 !important;
  margin: 0 !important;
  color: #1a1a1a !important;
  line-height: 1.2;
}

.month-info p {
  margin: 5px 0 0 0 !important;
  font-size: 0.9rem;
  color: #868e96 !important;
}

.calendar-nav {
  display: flex;
  gap: 8px;
}

.calendar-nav button {
  background: #f8f9fa !important;
  border: 1px solid #e9ecef !important;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  color: #495057 !important;
  transition: all 0.2s ease;
  font-size: 0.9rem;
}

.calendar-nav button:hover {
  background: #e9ecef !important;
  color: #212529 !important;
}

/* ë‹¬ë ¥ ê·¸ë¦¬ë“œ */
.calendar-container {
  background: #ffffff !important;
  border-radius: 12px;
  border: 1px solid #e9ecef;
  overflow: hidden;
}

.weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  background: #f8f9fa !important;
  border-bottom: 1px solid #e9ecef;
}

.weekdays div {
  padding: 12px 0;
  text-align: center;
  font-weight: 700;
  color: #868e96 !important;
  font-size: 0.85rem;
  text-transform: uppercase;
}

.days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
}

/* ë‚ ì§œ ì…€ */
.day-cell {
  min-height: 90px;
  border-right: 1px solid #f1f3f5;
  border-bottom: 1px solid #f1f3f5;
  padding: 8px;
  cursor: pointer;
  transition: all 0.2s;
  background-color: #fff !important;
}

.day-cell:nth-child(7n) { border-right: none; }
.day-cell:hover { background-color: #f8f9fa !important; }

.day-cell.selected {
  background-color: #e7f5ff !important;
  box-shadow: inset 0 0 0 2px #339af0;
}

.day-cell.today {
  background-color: #fff9db !important;
}

.day-cell.today .day-number {
  background: #fcc419;
  color: white !important;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.day-cell.other-month {
  background-color: #fcfcfc !important;
}

.day-number {
  font-weight: 600;
  font-size: 0.9rem;
  color: #343a40 !important;
  display: inline-block;
}

/* ì¼ì • í‘œì‹œ (ì ) */
.dots-container {
  display: flex;
  flex-wrap: wrap;
  gap: 3px;
  margin-top: 6px;
  justify-content: center;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: #339af0;
}

.more-badge {
  font-size: 0.65rem;
  color: #339af0 !important;
  font-weight: bold;
}

/* í•˜ë‹¨ ìŠ¤ì¼€ì¤„ íŒ¨ë„ */
.schedule-panel {
  margin-top: 20px;
  background: #ffffff !important;
  border-radius: 12px;
  border: 1px solid #e9ecef;
  padding: 20px;
  min-height: 120px;
}

.schedule-header {
  font-size: 1.1rem;
  font-weight: 700;
  color: #333 !important;
  margin-bottom: 15px !important;
  padding-bottom: 10px;
  border-bottom: 2px solid #339af0;
}

.schedule-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.schedule-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  background: #f8f9fa !important;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  transition: transform 0.2s, box-shadow 0.2s;
  text-decoration: none !important;
}

.schedule-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  background: #fff !important;
  border-color: #339af0;
}

.author-badge {
  padding: 4px 10px;
  color: white !important;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 700;
  margin-right: 12px;
  white-space: nowrap;
}

.post-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: #343a40 !important;
  flex-grow: 1;
}

.empty-message {
  text-align: center;
  color: #adb5bd !important;
  padding: 25px;
  font-style: italic;
}

#debugMsg {
  display: none;
  margin-top: 15px;
  padding: 15px;
  background: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 8px;
  color: #856404;
}

/* ëª¨ë°”ì¼ */
@media (max-width: 768px) {
  .day-cell { min-height: 60px; padding: 5px; }
  .dot { width: 6px; height: 6px; }
  .schedule-item { flex-direction: column; align-items: flex-start; gap: 6px; }
  .author-badge { margin-right: 0; }
  .month-info h2 { font-size: 1.4rem !important; }
}
</style>

<div class="calendar-wrapper">
  <div class="calendar-header">
    <div class="month-info">
      <h2 id="monthDisplay">ë¡œë“œ ì¤‘...</h2>
      <p id="postCountInfo">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.</p>
    </div>
    <div class="calendar-nav">
      <button type="button" id="btnPrev">â—€</button>
      <button type="button" id="btnToday">ì˜¤ëŠ˜</button>
      <button type="button" id="btnNext">â–¶</button>
    </div>
  </div>

  <div class="calendar-container">
    <div class="weekdays">
      <div style="color:#ff6b6b !important">SUN</div>
      <div>MON</div>
      <div>TUE</div>
      <div>WED</div>
      <div>THU</div>
      <div>FRI</div>
      <div style="color:#4dabf7 !important">SAT</div>
    </div>
    <div id="calendarGrid" class="days"></div>
  </div>

  <div class="schedule-panel">
    <div id="selectedDateTitle" class="schedule-header">ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
    <div id="scheduleList" class="schedule-list">
      <div class="empty-message">ìœ„ ë‹¬ë ¥ì—ì„œ ë‚ ì§œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
    </div>
  </div>
  
  <div id="debugMsg"></div>
</div>

<script type="application/json" id="calendar-data">
[
  {% for post in site.posts %}
  {
    "date": "{{ post.date | date: '%Y-%m-%d' }}",
    "title": {{ post.title | jsonify }},
    "url": {{ post.url | relative_url | jsonify }},
    "category": {{ post.categories | first | default: 'Etc' | jsonify }},
    "author": {{ post.author | default: 'unknown' | jsonify }}
  }{% unless forloop.last %},{% endunless %}
  {% endfor %}
]
</script>

<script>
(function() {
  var rawData = [];
  try {
    var dataEl = document.getElementById('calendar-data');
    if (dataEl) {
      rawData = JSON.parse(dataEl.textContent);
    }
  } catch(e) {
    console.error("Calendar data parse error:", e);
  }

  console.log("Calendar loaded:", rawData.length, "posts");

  var authorColors = {
    'jungsumin':   { name: 'ì •ìˆ˜ë¯¼', color: '#339af0' },
    'kimkangyeon': { name: 'ê¹€ê°•ì—°', color: '#ff6b6b' },
    'jangjinwook': { name: 'ì¥ì§„ìš±', color: '#51cf66' },
    'baejaeyu':    { name: 'ë°°ì¬ìœ ', color: '#8d6e63' },
    'kimminjae':   { name: 'ê¹€ë¯¼ì¬', color: '#cc5de8' },
    'default':     { name: 'ë©¤ë²„',   color: '#adb5bd' }
  };

  function getAuthorStyle(id) {
    return authorColors[id] || authorColors['default'];
  }

  function initCalendarApp() {
    var monthDisplay = document.getElementById('monthDisplay');
    var postCountInfo = document.getElementById('postCountInfo');
    var grid = document.getElementById('calendarGrid');
    var scheduleList = document.getElementById('scheduleList');
    var dateTitle = document.getElementById('selectedDateTitle');
    var debugEl = document.getElementById('debugMsg');

    if (rawData.length === 0) {
      if (debugEl) {
        debugEl.innerHTML = "âš ï¸ í¬ìŠ¤íŠ¸ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.";
        debugEl.style.display = 'block';
      }
      if (monthDisplay) monthDisplay.innerText = "ë°ì´í„° ì—†ìŒ";
      return;
    }

    var postsMap = {};
    rawData.forEach(function(p) {
      if (!postsMap[p.date]) postsMap[p.date] = [];
      postsMap[p.date].push(p);
    });

    var currDate = new Date();

    var btnPrev = document.getElementById('btnPrev');
    var btnNext = document.getElementById('btnNext');
    var btnToday = document.getElementById('btnToday');

    if (btnPrev) btnPrev.onclick = function() { changeMonth(-1); };
    if (btnNext) btnNext.onclick = function() { changeMonth(1); };
    if (btnToday) btnToday.onclick = function() { currDate = new Date(); render(); };

    function render() {
      var year = currDate.getFullYear();
      var month = currDate.getMonth();
      var todayStr = new Date().toISOString().split('T')[0];

      if (monthDisplay) monthDisplay.innerText = year + 'ë…„ ' + (month + 1) + 'ì›”';

      var count = 0;
      var monthPrefix = year + '-' + String(month + 1).padStart(2, '0');
      Object.keys(postsMap).forEach(function(date) {
        if (date.indexOf(monthPrefix) === 0) {
          count += postsMap[date].length;
        }
      });
      if (postCountInfo) postCountInfo.innerText = 'ì´ ' + count + 'ê°œì˜ í¬ìŠ¤íŒ…';

      if (!grid) return;
      grid.innerHTML = '';

      var firstDay = new Date(year, month, 1).getDay();
      var lastDate = new Date(year, month + 1, 0).getDate();

      for (var i = 0; i < firstDay; i++) {
        var emptyCell = document.createElement('div');
        emptyCell.className = 'day-cell other-month';
        grid.appendChild(emptyCell);
      }

      for (var d = 1; d <= lastDate; d++) {
        var dateKey = year + '-' + String(month + 1).padStart(2, '0') + '-' + String(d).padStart(2, '0');
        var dayPosts = postsMap[dateKey] || [];
        var isToday = dateKey === todayStr ? ' today' : '';

        var cell = document.createElement('div');
        cell.className = 'day-cell' + isToday;
        cell.setAttribute('data-date', dateKey);

        var dotsHtml = '';
        if (dayPosts.length > 0) {
          dotsHtml = '<div class="dots-container">';
          var showCount = Math.min(dayPosts.length, 6);
          for (var j = 0; j < showCount; j++) {
            var style = getAuthorStyle(dayPosts[j].author);
            dotsHtml += '<div class="dot" style="background-color:' + style.color + ';"></div>';
          }
          if (dayPosts.length > 6) {
            dotsHtml += '<span class="more-badge">+' + (dayPosts.length - 6) + '</span>';
          }
          dotsHtml += '</div>';
        }

        cell.innerHTML = '<span class="day-number">' + d + '</span>' + dotsHtml;
        (function(dk, c) {
          c.onclick = function() { selectDate(dk, c); };
        })(dateKey, cell);
        grid.appendChild(cell);
      }
    }

    function selectDate(date, element) {
      var cells = grid.querySelectorAll('.day-cell');
      for (var i = 0; i < cells.length; i++) {
        cells[i].classList.remove('selected');
      }
      if (element) element.classList.add('selected');

      var parts = date.split('-');
      if (dateTitle) dateTitle.innerText = parts[0] + 'ë…„ ' + parts[1] + 'ì›” ' + parts[2] + 'ì¼ ìŠ¤ì¼€ì¤„';

      var dayPosts = postsMap[date] || [];

      if (!scheduleList) return;

      if (dayPosts.length === 0) {
        scheduleList.innerHTML = '<div class="empty-message">ì‘ì„±ëœ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤. ğŸ˜´</div>';
      } else {
        var html = '';
        dayPosts.forEach(function(post) {
          var style = getAuthorStyle(post.author);
          html += '<a href="' + post.url + '" class="schedule-item">' +
            '<span class="author-badge" style="background-color:' + style.color + ';">' + style.name + '</span>' +
            '<span class="post-title">' + post.title + '</span></a>';
        });
        scheduleList.innerHTML = html;
      }
    }

    function changeMonth(val) {
      currDate.setMonth(currDate.getMonth() + val);
      render();
    }

    render();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCalendarApp);
  } else {
    setTimeout(initCalendarApp, 100);
  }

  var pushStateEl = document.getElementById('_pushState');
  if (pushStateEl) {
    pushStateEl.addEventListener('hy-push-state-load', initCalendarApp);
  }
})();
</script>
